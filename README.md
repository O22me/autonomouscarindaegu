# 2020대구 모형전기자율주행차 경진대회
![2020대구모형전기자율주행차경진대회_포스터](https://github.com/O22me/autonomouscarindaegu/assets/48616444/f25fb2af-d429-48f6-b3ec-5d2a3a1aa7bb)

## 프로젝트 소개
### 2020대구 모형전기자율주행차 경진대회 준비를 목적으로 제작된 프로젝트.
> 모형전기주행차량(150X200 크기의 하드웨어, 이하 모형차량)와 기초동작 코드는 KIAPI에서 제공되었습니다.

#### 대회목적
대구시 지역청년들의 자율차에 대한 관심을 이끌어내고 미래 자동차 선도도시 대구를 만들기 위해 본 경진대회를 개최합니다.
#### 대회개요
* 제공된 코드를 참고하여 자유롭게 편집하여 원하는 동작을 이루도록 하여, **주어진 코스를 완주하는 것**을 목표로 합니다.
* 제공된 모형 차량에 디자인 요소를 제시해야하며, 제작한 자율주행차 디자인에 대한 팀의 주제와 의견을 발표합니다.
* 팀은 최소 3명으로 구성되며, 코스 완주여부, 코드의 품질, 디자인, 발표 등 각 담당 평가자가 점수를 부여하여 등수를 매기게 됩니다.
#### 대회일정
||일자|설명|
|:---|---:|---:|
|참가자 모집|~2020.08.28|대구·경북에 거주하는 청년|
|참가자 확정|2020.09.11|총 10개 팀 확정일자|
|사전교육|2020.09.12|자료제공 및 주의사항|
|중간점검|2020.10.10|중간점검|
|연습주행|2020.10.29|대회 실사용 코스 주행연습|
|본 대회|2020.10.30|대구 EXCO에서 진행|
|시상식|2020.10.31|1, 2, 3위팀에 시상식|
## 팀원 소개
### 계명대학교 16학번
|이름|전공|담당|
|:---|---:|---:|
|이석진|기계자동차공학|디자인 설계, 제작 및 팀 발표|
|김세훈|컴퓨터공학|코드 작성 및 튜닝|
|김효중|전자공학과|하드웨어 설계 및 모형차량 주행|
## 프로젝트 구성
> 본 Repository 에서는 코드에 대해서만 구성하였습니다.
### 제공된 .ino
#### ir_sensor.ino
모형차량에서는 코스 내 주행을 위해서 바닥면의 차선(하얀선)을 읽어내야 합니다. 광검출기로 적외선 센서를 활용하여 모듈이 측정한 명암값을 받을 수 있습니다.
#### motor.ino
모형차량은 후륜구동이고 각 바퀴에 모터가 하나씩 부착되어 작동합니다. 모터를 구동하기 위해서 PIN번호를 구성하고 파워를 조절하여 전/후진 또는 정지를 구현할 수 있습니다.
#### Servo.ino
앞바퀴의 스티어링을 조정하기 위해 서보모터를 사용합니다. 구동을 위해서 Servo.h 헤더파일을 사용하고 Serial 통신을 통해 작동하는 것을 확인할 수 있습니다.
#### Ultrasonic.ino
전방, 우측, 좌측 장애물을 감지하기 위해 초음파 센서를 활용합니다. Serial Monitor를 활용하여 측정한 거리를 확인할 수 있도록 코드가 구성되어 있습니다.
#### RC_car.ino
앞서 제공된 코드를 종합하여 구동, 스티어링 세팅, 차선감지, 차선감지 회피, 전방감지를 포함하여 전진하도록 작성된 코드를 제공합니다. 필요한 파라미터 튜닝을 완료한 뒤 이 코드를 실행하여 기초 하드웨어 점검을 시행할 수 있습니다.
### 재가공한 .ino
> 주행코스는 "출발->평행주차->곡선주행->T 코스 주행->장애물회피->주차"로 진행합니다.
#### Full_course.ino
주어진 코스를 수행하기 위한 종합코드입니다. 이 코드를 통해서 순차적으로 주어지는 상황에 대해 반응하여 시행합니다. 
정지선 감지와 각 Boolean 값을 이용하여 각 상황을 구분하고 그에 맞는 함수를 호출하여 수행하도록 구성했습니다.
#### T_course.ino
T 코스를 주행하기 위한 코드입니다. 좁은 공간에서 적절한 스티어링 조작과 전/후진, 초음파센서 등을 모두 활용하는 고난도의 코스를 통과하기 위한 코드입니다. 
#### gotoback_test.ino
안정적인 평행주차를 위해서 만든 테스트용 코드입니다. 각 파라미터 값을 튜닝하고 Boolean값을 Write하여 반복 테스트를 해볼 수 있습니다.
### 추가한 .ino
#### led_test.ino
차량의 디자인적 요소를 위해서 남는 PIN번호를 활용하여, LED를 설치할 수 있습니다. LED의 깜빡임 등을 활용하기 위한 테스트 코드입니다. 
## 기술 스택
### 아두이노 환경
> [여기](https://www.arduino.cc/en/software)에서 각 운영체제 맞는 IDE를 다운로드하여 사용할 수 있습니다.

모형차량은 아두이노를 통해서 작동합니다. 아두이노 전용 IDE를 통해서 Serial Monitor 활용 및 헤더파일을 추가할 수 있습니다. 
.ino 파일을 편집할 수 있는 환경을 제공하고 통신을 위한 Port, Serial 번호를 설정할 수 있습니다.
### 유·무선 SW업데이트
모형차량에서 작동할 코드를 모형차량에 입력하고 움직임을 보면서 수정/업데이트를 반복하여 진행합니다. 5pin to USB 유선을 이용하여 업데이트하거나 블루투스를 이용합니다. 
## 대회결과
* 주행시도 2번째에 완주 성공하여 코드부문 2위
* 최종 4위에 머물렀습니다.
## 회고
리드미를 작성하는 2024년 현재까지도 매년 대회가 열리는 것으로 알고 있습니다. 이때 코드 작성만 해도 정해진 코스만을 통과하기 위해 만들어진 그런 작업이었는데 최신 대회의 영상을 보니 수준이 많이 높아졌다는 것을 알게 됐습니다.
카메라를 이용한 영상처리, 라이다센서, 라즈베리파이 등을 활용하는것을 보니 대회가 꾸준히 발전하고 있는거 같아서 기쁩니다. 어쩌다 어느 회사의 주니어 개발자로 지내고 있는데 그때는 생각치 않았던, 마구 작성하던 흔적이 보여 재밌기도 합니다. 언젠가 내가 생각한 대회에 대한 평가와 기록을 남겨야겠다고 생각한게 미루다보니 이제야 이 문서를 작성하네요. 제대로 된 리드미를 작성한 적이 없어 연습 겸 작성하게 됐습니다. 
## 참고자료
* [지능형자동차부품진흥원](http://www.kiapi.or.kr/index.html)
* [2020 대구 모형전기자율주행차 경진대회: 네이버카페](https://cafe.naver.com/autonomouscarindaegu)
* [최근 대회 참고영상](https://www.youtube.com/watch?v=e8Y6xgQtQc0&ab_channel=%EB%B0%95%ED%9D%AC%EC%8A%B9)